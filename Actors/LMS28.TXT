actor SoupBowlWaveMan 1205
{
+SOLID
-NOGRAVITY
Scale 2.5
States
{
Spawn:
SBWM A 35
SBWM A 35
loop
}
}

actor IActioned : Inventory
{
Inventory.Amount 1
Inventory.MaxAmount 1
}

actor IHeldFire : Inventory
{
Inventory.Amount 1
Inventory.MaxAmount 1
}

actor IHeldAlt : Inventory
{
Inventory.Amount 1
Inventory.MaxAmount 1
}

actor IAlted : Inventory
{
Inventory.Amount 1
Inventory.MaxAmount 3
}

actor IFired : Inventory
{
Inventory.Amount 1
Inventory.MaxAmount 3
}

actor IItemed : Inventory
{
Inventory.Amount 1
Inventory.MaxAmount 3
}

actor ItemGiver : CustomInventory
{
INVENTORY.AMOUNT 1
INVENTORY.MAXAMOUNT 1
+INVBAR
inventory.icon "TNT1A0"
States
{
Use:
TNT1 A 1 A_GiveInventory("IItemed",1)
TNT1 A 1 A_PlaySoundEx("item/refill","Voice")
TNT1 A 1 A_GiveInventory("IActioned",1)
fail
}
}

actor SimonWep : MegaBuster
{
Obituary "%o broke the universe."
Inventory.Pickupmessage "Power up! Simon Sez!"
States
{
Spawn:
MSHD C 1
stop
Ready:
TNT1 A 1 ACS_ExecuteAlways(991,0,0)
TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
goto Ready+1
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
TNT1 A 1 A_Raise
Loop
Fire:
TNT1 A 0 A_JumpIfInventory("IHeldFire",1,"NoAmmo")
TNT1 A 0 A_PlaySoundEx("weapon/FIRESTORM","Weapon")
TNT1 A 1 A_GiveInventory("IFired",1)
TNT1 A 1 A_GiveInventory("IActioned",1)
TNT1 A 20
TNT1 A 4 A_Refire
goto Ready+1
Hold:
TNT1 A 0 A_GiveInventory("IHeldFire",1)
TNT1 A 0 A_TakeInventory("IFired",1)
TNT1 A 1 A_PlaySoundEx("weapon/geminilaser","Weapon")
TNT1 A 20
TNT1 A 0 A_Refire
Goto Ready+1
AltFire:
TNT1 A 0 A_JumpIfInventory("IHeldAlt",1,"NoAmmo")
TNT1 A 0 A_PlaySoundEx("weapon/Flamesword","Weapon")
TNT1 A 1 A_GiveInventory("IAlted",1)
TNT1 A 1 A_GiveInventory("IActioned",1)
TNT1 A 20
TNT1 A 4 A_Refire
goto Ready+1
AltHold:
TNT1 A 0 A_GiveInventory("IHeldAlt",1)
TNT1 A 0 A_TakeInventory("IAlted",1)
TNT1 A 1 A_PlaySoundEx("weapon/lshot","Weapon")
TNT1 A 20
TNT1 A 0 A_Refire
Goto Ready+1
NoAmmo:
TNT1 A 1 ACS_Execute(979,0)
Goto Ready
}
}
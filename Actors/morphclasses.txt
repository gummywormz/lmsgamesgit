//used to have custom pain states without losing compatibility
actor NotSlashClaw : SlashClaw
{
Damage (1)
Damagetype "MegaFist"
States
{
Spawn:
SCLA HIJKL 1
stop
Death:
TNT1 A 1
stop
XDeath:
TNT1 A 1
stop
}
}

ACTOR NoDamageWind
{
Radius 16
Height 8
Speed 25
Damage (1)
+FOILINVUL
Damagetype "WindStorm"
Scale 2.5
+FLOORHUGGER
+EXPLODEONWATER
+SKYEXPLODE
Projectile
States
{
Spawn:
WINS ABCD 4
loop
Death:
TNT1 A 0 //A_RadiusThrust (4096, 512, 0)
TNT1 A 0 //A_RadiusThrust (1500, 512, 0)
TNT1 A 4
stop
}
}

actor ElevatorWeapon : MegaBuster
{
Weapon.AmmoUse 0
Weapon.SlotNumber 1
Obituary "%o was hacked by %k's elevator weapons."
Inventory.Pickupmessage "Wat"
+WEAPON.AMMO_OPTIONAL
Scale 2.0
States
{
Spawn:
WEA2 Y 0
stop
Ready:
TNT1 A 0 //ACS_ExecuteAlways(998,0,44)
TNT1 A 1 A_jumpifinventory("CanSlash",1,"Ready2")
loop
Ready2:
SCLA B 1 A_WeaponReady
loop
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
SCLA B 1 A_Lower
loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
SCLA B 1 A_Raise
Loop
Fire:
SCLA B 1 A_JumpIfInventory("NoFiring",1,"NoAmmo")
SCLA B 1 A_JumpIfInventory("CanSlash",1,"FireIt")
goto NoAmmo
FireIt:
SCLA B 0 A_PlaySoundEx("weapon/slashclaw","Weapon")
SCLA BC 1
SCLA A 1 A_FireCustomMissile("NotSlashClaw",0,0,8,0)
SCLA DE 1
SCLA F 4
SCLA G 8
SCLA B 1
SCLA B 2
SCLA B 3 A_ReFire
AltFire:
SCLA B 1 A_JumpIfInventory("NoFiring",1,"NoAmmo")
SCLA B 1 A_JumpIfInventory("CanWind",1,"AltFireIt")
goto NoAmmo
AltFireIt:
BUBB D 0 A_PlaySoundEx("weapon/mbuster","Weapon")
BUBB E 0 A_FireCustomMissile("NoDamageWind",0,0,8,0)
BUBB EF 5
BUBB D 2
BUBB D 0 A_Refire
goto Ready+1
NoAmmo:
SCLA B 1 ACS_Execute(979,0)
goto Ready+1
}
}

Actor CanWind : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

Actor NoFiring : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

Actor CanSlash : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

actor JoustWeapon : MegaBuster
{
Weapon.AmmoUse 1
Weapon.Ammogive 50
Weapon.AmmoType "JoustAmmo"
Weapon.SlotNumber 1
Obituary "%o was burned by %k's afterburner."
Inventory.Pickupmessage "Wat"
+WEAPON.AMMO_OPTIONAL
Scale 2.0
States
{
Spawn:
WEA2 Y 0
stop
Ready:
TKSH A 0 //ACS_ExecuteAlways(998,0,44)
TKSH A 1 A_WeaponReady
Goto Ready+1
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TKSH A 1 A_Lower
loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
TKSH A 1 A_Raise
Loop
Fire:
TKSH A 0 A_JumpIfNoAmmo("NoAmmo")
TKSH K 0 A_TakeInventory("JoustAmmo", 1)
TKSH K 0 A_Recoil(-3)
TKSH K 0 A_PlaySoundEx("weapon/superboost","Weapon")
TKSH K 0 A_FireCustomMissile ("FusionBrake", 0, 0, 0, 0, 30)
TKSH K 0 A_FireCustomMissile ("FusionBrake", 0, 0, 0, 0, 30)
TKSH K 0 A_Recoil(-3)
TKSH K 0 A_FireCustomMissile ("FusionBrake", 0, 0, 0, 0, 30)
TKSH K 0 A_FireCustomMissile ("FusionBrake", 0, 0, 0, 0, 30)
TKSH K 2
TKSH K 1 A_Refire
goto Ready
NoAmmo:
TKSH A 1 ACS_Execute(979,0)
goto Ready+1
}
}

actor StopMe : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

actor JoustAmmo : Ammo
{
+INVENTORY.IGNORESKILL
inventory.amount 1
inventory.maxamount 30
}

actor FusionBrake
{
PROJECTILE
Radius 8
Height 50
+DONTBLAST
Damage (1)
Damagetype "Afterburner"
Obituary "%o was trampled by %k's Afterburner."
Speed 50
scale 2.5 
States
{
Spawn:
FIRT ABC 1
stop
}
}

actor ElevatorMorph : MegaMan
{
player.displayname "megaman"
player.soundclass "megaman"
player.damagescreencolor "yellow"
player.forwardmove 0.8, 0.8
player.sidemove 0.78, 0.78
player.jumpz 10
player.colorrange 0 0
Player.MaxHealth 400
Health 400
player.morphweapon "ElevatorWeapon"
mass 9999
gravity 0.8
+NODAMAGETHRUST
+DONTBLAST
+PUSHABLE
+NOBLOOD
-SOLID
+QUICKTORETALIATE
damagefactor "Normal", 0.1
damagefactor "Dummy", 0.0
damagefactor "StarToad", 0.0
scale 2.5
States
{
Spawn:
PLAY A 0
PLAY B 1
PLAY B 0 A_ChangeFlag("SOLID",1)
PLAY B 0 SetPlayerProperty(0,0,4)
PLAY A 1
PLAY A 1
Goto Spawn+5
See:
PLAY BCDE 5
Goto Spawn
Missile:
PLAY F 5 
PLAY G 4 
goto Spawn
Pain.FireSpin:
Pain.QuickBoomerang:
Pain.Buster:
Pain.WildCoil:
Pain.ChargeKick:
Pain.YamatoSpear:
Pain.DiveMissile:
Pain.StarCrash:
Pain.NeedleCannon:
Pain.CentaurFlash:
Pain.FreezeCrack:
Pain.ScrewCrusher:
Pain.PharaohHold:
Pain.TornadoHold:
Pain.TrebleSentry:
Pain.ScorchWheel:
Pain.MagnetMissile:
Pain.JunkShield:
Pain.Misc:
Pain.Oil:
PLAY H 0
Goto pain+1
Pain.Afterburner:
PLAY H 0 A_Jump(128,"OtherThrust")
PLAY H 0 ThrustThing(random(0,255),15,0,0)
PLAY H 0 ThrustThingZ(0,50,0,0)
Goto pain+1
OtherThrust:
PLAY H 0 ThrustThing(random(0,255),20,1,0)
PLAY H 0 ThrustThingZ(0,50,0,0)
Goto pain+1
Pain.MegaFist:
PLAY H 0 ThrustThing(angle*256/360+128, momx + random(10,30), 1, 0)
Goto pain+1
Pain.FlameSword:
PLAY H 0
PLAY HH 0 A_SpawnItemEx("ScorchBit",0,0,0,random(-10,10),random(-10,10),random(10,15),random(0,360))
Goto pain
Pain.FlashBomb:
PLAY H 0 A_ScaleVelocity(0.85)
Goto Pain+1
Pain.RollSwing:
Pain.Rage:
PLAY H 0 ThrustThingZ(0,90,0,0)
PLAY H 0 ThrustThing(random(0,255),25,1,0)
Goto pain+1
Pain.WindStorm:
PLAY H 0 //ThrustThing(random(0,255),50,1,0)
PLAY H 0 ThrustThing(random(0,255),40,0,0)
PLAY H 0 ThrustThingZ(0,10,0,0)
Goto pain+1
Pain.SlashClaw:
PLAY H 0 A_PlaySoundEx("weapon/slashclawhit","SoundSlot5")
Goto Pain
Pain.FlashStopper:
PLAY H 0 
PLAY H 0 A_JumpIfInventory("BrightBlind", 1,3)
PLAY H 0 A_GiveInventory("BrightBlind",125)
PLAY H 0 ACS_ExecuteAlways(249, 0)
Goto pain+1
PLAY H 0 A_GiveInventory("BrightBlind",55)
Goto pain+1
Pain.TimeSlow:
PLAY H 0 A_GiveInventory("Slowed",1)
PLAY H 0 ACS_ExecuteAlways(721,0,0)//A_GiveInventory("InfectSlow",1)
Goto pain+1
Pain.SparkShock:
PLAY H 0 A_SpawnItemEx("ShockFX",4,0,32)
PLAY H 0 A_GiveInventory("Shocked",1)
PLAY H 0 ACS_ExecuteAlways(721,0,1)
Goto Pain+1
Pain.CrashBomb:
PLAY H 0 A_Stop
Goto Pain+1
Pain.GravityHold:
PLAY H 0 ThrustThingZ(0,150,1,0)
PLAY H 0 A_JumpIf(z-floorz>180,"GravityForce4")
PLAY H 0 A_JumpIf(z-floorz>128,"GravityForce3")
PLAY H 0 A_JumpIf(z-floorz>32,"GravityForce2")
PLAY H 0 A_JumpIf(z-floorz>8,"GravityForce1")
Goto pain+1
GravityForce4:
//PLAY H 0 A_Print("Gravity 4")
PLAY H 0 A_GiveInventory("GravityForce4",1)
Goto Pain+1
GravityForce3:
//PLAY H 0 A_Print("Gravity 3")
PLAY H 0 A_GiveInventory("GravityForce3",1)
Goto Pain+1
GravityForce2:
//PLAY H 0 A_Print("Gravity 2")
PLAY H 0 A_GiveInventory("GravityForce2",1)
Goto Pain+1
GravityForce1:
//PLAY H 0 A_Print("Gravity 1")
PLAY H 0 A_GiveInventory("GravityForce1",1)
Goto Pain+1
Pain.WilyFire:
PLAY H 0 //A_ChangeFlag("SHOOTABLE",0)
PLAY H 0 A_SpawnItemEx("ImOnFire")
PLAY H 0 A_GiveInventory("FireVision",1)
Goto Pain
Pain.WilyIce:
PLAY H 0 A_ChangeFlag("SHOOTABLE",0)
PLAY H 0 SetPlayerProperty(0,1,4)
PLAY H 0 A_SpawnItemEx("ImFrozen")
PLAY H 0 A_GiveInventory("IceVision",1)
PLAY H 30 A_Stop
PLAY H 30 A_ChangeFlag("SHOOTABLE",1)
PLAY H 0 SetPlayerProperty(0,0,0)
PLAY H 0 A_TakeInventory("IceVision",1)
Goto Spawn
Freeze:
PLAY A 1 A_Stop
PLAY A 1 ThrustThingZ(0,200,1,0)
PLAY A 1 A_Stop
PLAY A 1 A_Stop
PLAY A 1 A_Stop
goto Freeze+3
Pain.Drowning:
Pain.Fire:
Pain.Falling:
Pain.Slime:
PLAY H 0 
PLAY H 0 A_JumpIfInventory("BeatCallCheck", 1, "BeatAssist")
Goto Pain+1
BeatAssist:
PLAY H 0 
PLAY H 0 HealThing(2)
PLAY H 0 ThrustThingZ(0,25,0,0)
PLAY H 0 ACS_ExecuteAlways(205,0)
Goto Pain+1
Pain:
PLAY H 0 A_ScaleVelocity(0.7)
PLAY H 0 A_Recoil(5)
PLAY H 0 A_JumpIfInventory("EnkerMirrorCount",1,"EnkerAbsorb")
PLAY H 0 A_Pain
PLAY H 0 SetPlayerProperty(0,0,4)
PLAY H 0 A_PlaySound("misc/devilpain")
PLAY H 0 //A_GiveInventory("TempInvince",1)
PLAY H 0 //SetPlayerProperty(0, 1, 4)
PLAY H 1 A_SpawnItem("PainFX",0,3)
PLAY H 1 A_Recoil(1)
PLAY H 1 A_SpawnItem("PainFX",0,3)
PLAY H 1 //A_Recoil(1)
PLAY H 1 A_SpawnItem("PainFX",0,3)
PLAY H 1 //A_Recoil(1)
PLAY H 1 A_SpawnItem("PainFX",0,3)
PLAY H 1 //A_Recoil(1)
PLAY H 1 A_SpawnItem("PainFX",0,3)
PLAY H 1 //A_Recoil(1)
PLAY H 1 A_SpawnItem("PainFX",0,3)
PLAY H 1 //A_Recoil(1)
PLAY H 1 A_SpawnItem("PainFX",0,3)
PLAY H 1 //A_Recoil(1)
PLAY H 1 A_SpawnItem("PainFX",0,3)
PLAY H 1 //A_Recoil(1)
PLAY H 1 A_SpawnItem("PainFX",0,3)
PLAY H 1 //A_Recoil(1)
PLAY H 1 A_SpawnItem("PainFX",0,3)
PLAY H 1 //A_Recoil(1)
PLAY H 0 //SetPlayerProperty(0, 0, 4)
PLAY H 0//SetPlayerProperty(0,0,1)
Goto Spawn
Death.Beam:
Death.GravityHold:
Death.instagib:
PLAY Z 1 SetPlayerProperty(0, 0, 4)
PLAY H 0 A_GiveToTarget("KilledMe",1)
PLAY H 0 A_GiveToTarget("KilledMeStock",1)
PLAY H 0 A_GiveInventory("CutterFlag",999)
PLAY H 0 A_GiveInventory("IsDead",1)
PLAY Z 0 A_PlayerScream
PLAY H 0 A_SpawnItemEx("FakeDeathFX", 0, 0, 32)
PLAY Z 1 A_CheckPlayerDone
wait
Death:
PLAY H 0 SetPlayerProperty(0, 0, 4)
PLAY H 0 A_TakeInventory("PharaohCharge",999)   
PLAY H 0 A_NoBlocking
PLAY H 0 A_GiveInventory("CutterFlag",999)
PLAY H 0 A_GiveInventory("IsDead",1)
PLAY H 0 A_Stop
PLAY H 0 A_GiveToTarget("KilledMeStock",1)
PLAY H 1 A_GiveToTarget("KilledMe",1)
PLAY H 19 ACS_ExecuteAlways(999,0,0)
PLAY H 0 SetPlayerProperty(0, 0, 4)
PLAY H 0 A_PlayerScream
PLAY H 0 A_SpawnItemEx("GockRoach", 0, 0, 32) //by request of caprice (i think)
PLAY Z 1 A_CheckPlayerDone
wait
Death.Falling:
PLAY H 0 SetPlayerProperty(0, 0, 4)
PLAY H 0 A_TakeInventory("PharaohCharge",999)   
PLAY H 0 A_NoBlocking
PLAY H 0 A_GiveInventory("CutterFlag",999)
PLAY H 0 A_GiveInventory("IsDead",1)
PLAY Z 1 A_PlayerScream
PLAY Z 1 A_Stop
PLAY Z 1 ACS_ExecuteAlways(999,0,0)
//PLAY Z -1
PLAY Z 1 A_CheckPlayerDone
wait
Ice:
PLAY H 0 SetPlayerProperty(0, 0, 4)
PLAY H 1 A_PlayerScream
PLAY H 0 A_TakeInventory("PharaohCharge",999)   
PLAY H 0 A_GiveInventory("CutterFlag",999)
PLAY H 0 A_GiveInventory("IsDead",1)
PLAY H 0 ACS_ExecuteAlways(998,0,105,1)
PLAY H 0 A_NoBlocking
PLAY H 0 A_FreezeDeath
PLAY H 35
PLAY H 0 A_SpawnItemEx("FrozenDeathFX", 0, 0, 16)
PLAY Z 1 A_CheckPlayerDone
wait
//stop
}
}

actor JoustMorph : ElevatorMorph
{
player.morphweapon "JoustWeapon"
Health 999
DamageFactor "Falling", 999.9
player.MaxHealth 999
}